import{j as e}from"./app-Nug6AceN.js";import{r as j,S as u,x as t,A as c}from"./inertia-BH-W5z_F.js";import{A as N}from"./AdminLayout-BciyKWd9.js";import{F as m,a as w,b as v}from"./TrashIcon-D85zUF_K.js";import{F as y}from"./MagnifyingGlassIcon-CRB_Avht.js";import{F as l}from"./DocumentTextIcon-Bv7v4BJx.js";import{F as _}from"./ClockIcon-BS-c7_29.js";import{F as S}from"./UserGroupIcon-X0p-SGiJ.js";import{f as o}from"./format-Dl1nktRO.js";import{i as x}from"./id-BzV5ZBcg.js";import"./vendor-B3w1EZq-.js";import"./clsx-wMeOeRoz.js";import"./XMarkIcon-DRZff1gW.js";import"./ChartBarIcon-C_T0qa3q.js";function K({tryouts:r,filters:h}){const[n,p]=j.useState(h.search||""),g=a=>{a.preventDefault(),c.get(route("admin.tryouts.index"),{search:n},{preserveState:!0})},f=a=>{confirm(`Hapus tryout "${a.title}"? Semua data ujian terkait akan ikut terhapus.`)&&c.delete(route("admin.tryouts.destroy",a.id))},b=a=>{const s=new Date,d=a.start_date?new Date(a.start_date):null,i=a.end_date?new Date(a.end_date):null;return a.is_active?i&&s>i?e.jsx("span",{className:"badge badge-red",children:"Berakhir"}):d&&s<d?e.jsx("span",{className:"badge badge-amber",children:"Akan Datang"}):e.jsx("span",{className:"badge badge-emerald",children:"Aktif"}):e.jsx("span",{className:"badge badge-gray",children:"Nonaktif"})};return e.jsxs(N,{children:[e.jsx(u,{title:"Kelola Tryout"}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kelola Tryout"}),e.jsx("p",{className:"text-gray-600",children:"Daftar semua tryout dalam platform"})]}),e.jsxs(t,{href:route("admin.tryouts.create"),className:"btn btn-primary",children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),"Tambah Tryout"]})]}),e.jsx("div",{className:"card mb-6",children:e.jsx("div",{className:"p-4",children:e.jsxs("form",{onSubmit:g,className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(y,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{type:"text",value:n,onChange:a=>p(a.target.value),placeholder:"Cari tryout...",className:"input pl-10 w-full"})]}),e.jsx("button",{type:"submit",className:"btn btn-secondary",children:"Cari"})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.data.length===0?e.jsx("div",{className:"col-span-full",children:e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(l,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Tryout"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Mulai dengan membuat tryout pertama Anda"}),e.jsxs(t,{href:route("admin.tryouts.create"),className:"btn btn-primary",children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),"Tambah Tryout"]})]})}):r.data.map(a=>e.jsxs("div",{className:"card group",children:[e.jsxs("div",{className:"h-36 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-t-xl relative overflow-hidden",children:[a.thumbnail&&e.jsx("img",{src:`/storage/${a.thumbnail}`,alt:a.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-3 right-3",children:b(a)})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:a.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(l,{className:"w-4 h-4"}),a.questions_count," Soal"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"w-4 h-4"}),a.duration_minutes," Menit"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"w-4 h-4"}),a.sessions_count]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[a.categories.slice(0,3).map(s=>e.jsx("span",{className:"px-2 py-0.5 text-xs rounded",style:{backgroundColor:`${s.color}20`,color:s.color},children:s.name},s.id)),a.categories.length>3&&e.jsxs("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded",children:["+",a.categories.length-3]})]}),(a.start_date||a.end_date)&&e.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:[a.start_date&&o(new Date(a.start_date),"dd MMM",{locale:x}),a.start_date&&a.end_date&&" - ",a.end_date&&o(new Date(a.end_date),"dd MMM yyyy",{locale:x})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t",children:[e.jsxs(t,{href:route("admin.tryouts.questions",a.id),className:"btn btn-secondary btn-sm flex-1",children:[e.jsx(l,{className:"w-4 h-4 mr-1"}),"Soal"]}),e.jsx(t,{href:route("admin.tryouts.edit",a.id),className:"btn btn-secondary btn-sm",children:e.jsx(w,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(a),className:"btn btn-secondary btn-sm text-red-600 hover:bg-red-50",children:e.jsx(v,{className:"w-4 h-4"})})]})]})]},a.id))}),r.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex gap-1",children:r.links.map((a,s)=>e.jsx(t,{href:a.url||"#",className:`px-3 py-2 rounded text-sm ${a.active?"bg-indigo-600 text-white":a.url?"bg-white text-gray-600 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,preserveState:!0,dangerouslySetInnerHTML:{__html:a.label}},s))})})]})}export{K as default};
