import{j as e}from"./app-Nug6AceN.js";import{S as N,x as j}from"./inertia-BH-W5z_F.js";import{M as b}from"./MainLayout-DWzrgOCn.js";import{d as v}from"./index-irFkzPAt.js";import{F as w}from"./ArrowLeftIcon-DQ60BSYJ.js";import{F as y}from"./ChartBarIcon-C_T0qa3q.js";import{F as $}from"./TrophyIcon-C1UKeZjf.js";import{F}from"./UserCircleIcon-rrmHgEP7.js";import{F as L}from"./ClockIcon-BS-c7_29.js";import{f as A}from"./formatDistanceToNow-y5iG_XW9.js";import{i as _}from"./id-BzV5ZBcg.js";import"./vendor-B3w1EZq-.js";import"./clsx-wMeOeRoz.js";import"./XMarkIcon-DRZff1gW.js";function H({tryout:l,entries:k,currentUserRank:a}){var d,c,m,x,o,g;const{entries:s,isConnected:n}=v(l.slug),u=t=>{switch(t){case 1:return"from-yellow-400 to-yellow-600";case 2:return"from-gray-300 to-gray-500";case 3:return"from-amber-500 to-amber-700";default:return"from-gray-100 to-gray-200"}},p=t=>{switch(t){case 1:return"ðŸ¥‡";case 2:return"ðŸ¥ˆ";case 3:return"ðŸ¥‰";default:return null}};return e.jsxs(b,{children:[e.jsx(N,{title:`Leaderboard - ${l.title}`}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(j,{href:route("dashboard"),className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(w,{className:"w-4 h-4 mr-1"}),"Kembali ke Dashboard"]}),e.jsx("div",{className:"card bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Leaderboard"}),e.jsx("p",{className:"text-indigo-100",children:l.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${n?"bg-emerald-400":"bg-red-400"}`}),e.jsx("span",{className:"text-sm text-indigo-100",children:n?"Live":"Offline"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:s.length}),e.jsx("p",{className:"text-sm text-indigo-100",children:"Peserta"})]}),e.jsxs("div",{className:"bg-white/10 rounded-xl p-4 text-center",children:[e.jsxs("p",{className:"text-3xl font-bold",children:[s.length>0?s[0].percentage:0,"%"]}),e.jsx("p",{className:"text-sm text-indigo-100",children:"Nilai Tertinggi"})]}),e.jsxs("div",{className:"bg-white/10 rounded-xl p-4 text-center",children:[e.jsxs("p",{className:"text-3xl font-bold",children:[s.length>0?Math.round(s.reduce((t,i)=>t+i.percentage,0)/s.length):0,"%"]}),e.jsx("p",{className:"text-sm text-indigo-100",children:"Rata-rata"})]})]})]})})]}),a&&e.jsx("div",{className:"card bg-indigo-50 border-indigo-200 mb-6",children:e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(y,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Peringkat Anda"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["#",a.rank," dengan skor ",a.percentage,"%"]})]})]}),e.jsx(j,{href:route("exam.result",a.session_id),className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Lihat Detail â†’"})]})}),s.length>=3&&e.jsxs("div",{className:"flex items-end justify-center gap-4 mb-8",children:[e.jsxs("div",{className:"flex-1 max-w-[140px]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-2 rounded-full bg-gradient-to-br from-gray-300 to-gray-500 flex items-center justify-center text-white text-2xl",children:(d=s[1].user)!=null&&d.avatar?e.jsx("img",{src:`/storage/${s[1].user.avatar}`,alt:"",className:"w-full h-full rounded-full object-cover"}):"ðŸ¥ˆ"}),e.jsx("p",{className:"font-semibold text-gray-900 truncate text-sm",children:((c=s[1].user)==null?void 0:c.name)||"Anonim"}),e.jsxs("p",{className:"text-xl font-bold text-gray-700",children:[s[1].percentage,"%"]})]}),e.jsx("div",{className:"h-20 bg-gradient-to-b from-gray-300 to-gray-400 rounded-t-lg mt-2"})]}),e.jsxs("div",{className:"flex-1 max-w-[160px]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-2 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center text-white text-3xl ring-4 ring-yellow-300 ring-offset-2",children:(m=s[0].user)!=null&&m.avatar?e.jsx("img",{src:`/storage/${s[0].user.avatar}`,alt:"",className:"w-full h-full rounded-full object-cover"}):"ðŸ¥‡"}),e.jsx("p",{className:"font-bold text-gray-900 truncate",children:((x=s[0].user)==null?void 0:x.name)||"Anonim"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[s[0].percentage,"%"]})]}),e.jsx("div",{className:"h-28 bg-gradient-to-b from-yellow-400 to-yellow-500 rounded-t-lg mt-2"})]}),e.jsxs("div",{className:"flex-1 max-w-[140px]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-2 rounded-full bg-gradient-to-br from-amber-500 to-amber-700 flex items-center justify-center text-white text-2xl",children:(o=s[2].user)!=null&&o.avatar?e.jsx("img",{src:`/storage/${s[2].user.avatar}`,alt:"",className:"w-full h-full rounded-full object-cover"}):"ðŸ¥‰"}),e.jsx("p",{className:"font-semibold text-gray-900 truncate text-sm",children:((g=s[2].user)==null?void 0:g.name)||"Anonim"}),e.jsxs("p",{className:"text-xl font-bold text-amber-700",children:[s[2].percentage,"%"]})]}),e.jsx("div",{className:"h-14 bg-gradient-to-b from-amber-500 to-amber-600 rounded-t-lg mt-2"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-amber-500"}),"Peringkat Lengkap"]})}),s.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(F,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Belum ada peserta yang menyelesaikan tryout ini"})]}):e.jsx("div",{className:"divide-y",children:s.map((t,i)=>{var f;const r=i+1,h=t.is_current_user;return e.jsxs("div",{className:`p-4 flex items-center gap-4 transition-colors ${h?"bg-indigo-50":"hover:bg-gray-50"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${r<=3?`bg-gradient-to-br ${u(r)} text-white`:"bg-gray-100 text-gray-600"}`,children:p(r)||r}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:((f=t.user)==null?void 0:f.name)||"Anonim"}),h&&e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full",children:"Anda"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-4 h-4"}),t.duration_minutes," menit"]}),t.finished_at&&e.jsx("span",{children:A(new Date(t.finished_at),{addSuffix:!0,locale:_})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-xl font-bold ${t.percentage>=80?"text-emerald-600":t.percentage>=60?"text-amber-600":"text-red-600"}`,children:[t.percentage,"%"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.score," poin"]})]})]},t.id)})})]})]})]})}export{H as default};
