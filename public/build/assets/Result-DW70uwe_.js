import{j as e}from"./app-Nug6AceN.js";import{r as i,S as h,x as d}from"./inertia-BH-W5z_F.js";import{M as u}from"./MainLayout-DWzrgOCn.js";import{F as j}from"./TrophyIcon-C1UKeZjf.js";import{F as f}from"./CheckCircleIcon--pLsEsWR.js";import{F as g,a as c}from"./XCircleIcon-B8Av2ryl.js";import{F as p}from"./ClockIcon-BS-c7_29.js";import{F as b}from"./ChartBarIcon-C_T0qa3q.js";import{F as N}from"./ArrowLeftIcon-DQ60BSYJ.js";import{f as x}from"./format-Dl1nktRO.js";import{i as o}from"./id-BzV5ZBcg.js";import"./vendor-B3w1EZq-.js";import"./clsx-wMeOeRoz.js";import"./UserCircleIcon-rrmHgEP7.js";import"./XMarkIcon-DRZff1gW.js";function y({title:a,titleId:t,...s},l){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},s),a?i.createElement("title",{id:t},a):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const w=i.forwardRef(y);function W({session:a,stats:t,rank:s}){const l=r=>r>=80?"text-emerald-600":r>=60?"text-amber-600":"text-red-600",m=r=>r>=80?"from-emerald-500 to-emerald-600":r>=60?"from-amber-500 to-amber-600":"from-red-500 to-red-600",n=(r=>r>=90?{grade:"A",label:"Sangat Baik"}:r>=80?{grade:"B+",label:"Baik Sekali"}:r>=70?{grade:"B",label:"Baik"}:r>=60?{grade:"C",label:"Cukup"}:r>=50?{grade:"D",label:"Kurang"}:{grade:"E",label:"Perlu Belajar Lagi"})(a.percentage);return e.jsxs(u,{children:[e.jsx(h,{title:`Hasil - ${a.tryout.title}`}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"card overflow-hidden mb-6",children:[e.jsxs("div",{className:`bg-gradient-to-br ${m(a.percentage)} p-8 text-white text-center`,children:[e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(j,{className:"w-10 h-10"})}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Ujian Selesai!"}),e.jsx("p",{className:"text-white/80",children:a.tryout.title})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-8 py-6 border-b",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`text-6xl font-bold ${l(a.percentage)}`,children:[a.percentage,"%"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Nilai Akhir"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-3xl font-bold ${a.percentage>=60?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:n.grade}),e.jsx("p",{className:"text-gray-600 mt-2",children:n.label})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 py-6",children:[e.jsxs("div",{className:"text-center p-4 bg-emerald-50 rounded-xl",children:[e.jsx(f,{className:"w-8 h-8 text-emerald-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:t.correct}),e.jsx("p",{className:"text-sm text-emerald-700",children:"Benar"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[e.jsx(g,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.incorrect}),e.jsx("p",{className:"text-sm text-red-700",children:"Salah"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx(c,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:t.unanswered}),e.jsx("p",{className:"text-sm text-gray-700",children:"Tidak Dijawab"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[e.jsx(p,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.duration}),e.jsx("p",{className:"text-sm text-blue-700",children:"Menit"})]})]}),s&&e.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(b,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["Peringkat #",s.position]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["dari ",s.total," peserta"]})]})]}),e.jsx(d,{href:route("leaderboard.show",a.tryout.slug),className:"text-indigo-600 hover:text-indigo-700 font-medium text-sm",children:"Lihat Leaderboard →"})]})}),t.categories&&t.categories.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Performa per Kategori"}),e.jsx("div",{className:"space-y-3",children:t.categories.map(r=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-700",children:r.name}),e.jsxs("span",{className:l(r.percentage),children:[r.correct,"/",r.total," (",r.percentage,"%)"]})]}),e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full bg-gradient-to-r ${m(r.percentage)}`,style:{width:`${r.percentage}%`}})})]},r.id))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Waktu Mulai:"}),e.jsx("p",{className:"font-medium text-gray-900",children:x(new Date(a.started_at),"dd MMM yyyy, HH:mm",{locale:o})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Waktu Selesai:"}),e.jsx("p",{className:"font-medium text-gray-900",children:x(new Date(a.finished_at),"dd MMM yyyy, HH:mm",{locale:o})})]})]}),a.total_violations>0&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-amber-600",children:["⚠️ Terdeteksi ",a.total_violations," pelanggaran selama ujian"]})})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[e.jsxs(d,{href:route("dashboard"),className:"btn btn-secondary",children:[e.jsx(N,{className:"w-5 h-5 mr-2"}),"Dashboard"]}),a.tryout.allow_review&&e.jsxs(d,{href:route("exam.review",a.id),className:"btn btn-primary",children:[e.jsx(c,{className:"w-5 h-5 mr-2"}),"Lihat Pembahasan"]}),a.tryout.can_attempt&&e.jsxs(d,{href:route("tryout.show",a.tryout.slug),className:"btn btn-secondary",children:[e.jsx(w,{className:"w-5 h-5 mr-2"}),"Coba Lagi"]})]})]})]})}export{W as default};
