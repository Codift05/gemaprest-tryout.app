import{j as e}from"./app-Nug6AceN.js";import{r as i,S as b,x as l,A as o}from"./inertia-BH-W5z_F.js";import{A as v}from"./AdminLayout-BciyKWd9.js";import{F as h,a as w,b as S}from"./TrashIcon-D85zUF_K.js";import{F}from"./MagnifyingGlassIcon-CRB_Avht.js";import{F as k}from"./FunnelIcon-Cd0MX7lx.js";import{F as C}from"./DocumentTextIcon-Bv7v4BJx.js";import"./vendor-B3w1EZq-.js";import"./clsx-wMeOeRoz.js";import"./XMarkIcon-DRZff1gW.js";import"./ChartBarIcon-C_T0qa3q.js";function E({questions:s,categories:p,filters:d}){const[c,u]=i.useState(d.search||""),[n,g]=i.useState(d.category||""),[x,y]=i.useState(d.difficulty||""),j=()=>{o.get(route("admin.questions.index"),{search:c,category:n,difficulty:x},{preserveState:!0})},f=a=>{confirm("Hapus soal ini? Tindakan ini tidak dapat dibatalkan.")&&o.delete(route("admin.questions.destroy",a.id))},N=a=>{const t={easy:"bg-emerald-100 text-emerald-700",medium:"bg-amber-100 text-amber-700",hard:"bg-red-100 text-red-700"},r={easy:"Mudah",medium:"Sedang",hard:"Sulit"};return e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t[a]}`,children:r[a]})};return e.jsxs(v,{children:[e.jsx(b,{title:"Bank Soal"}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bank Soal"}),e.jsxs("p",{className:"text-gray-600",children:[s.total," soal tersedia"]})]}),e.jsxs(l,{href:route("admin.questions.create"),className:"btn btn-primary",children:[e.jsx(h,{className:"w-5 h-5 mr-2"}),"Tambah Soal"]})]}),e.jsx("div",{className:"card mb-6",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{type:"text",value:c,onChange:a=>u(a.target.value),placeholder:"Cari soal...",className:"input pl-10 w-full"})]})}),e.jsxs("select",{value:n,onChange:a=>g(a.target.value),className:"input min-w-[150px]",children:[e.jsx("option",{value:"",children:"Semua Kategori"}),p.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsxs("select",{value:x,onChange:a=>y(a.target.value),className:"input min-w-[130px]",children:[e.jsx("option",{value:"",children:"Semua Tingkat"}),e.jsx("option",{value:"easy",children:"Mudah"}),e.jsx("option",{value:"medium",children:"Sedang"}),e.jsx("option",{value:"hard",children:"Sulit"})]}),e.jsxs("button",{onClick:j,className:"btn btn-secondary",children:[e.jsx(k,{className:"w-5 h-5 mr-1"}),"Filter"]})]})})}),e.jsx("div",{className:"card overflow-hidden",children:s.data.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(C,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Soal"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Mulai dengan membuat soal pertama Anda"}),e.jsxs(l,{href:route("admin.questions.create"),className:"btn btn-primary",children:[e.jsx(h,{className:"w-5 h-5 mr-2"}),"Tambah Soal"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Soal"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tingkat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Jawaban"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y",children:s.data.map(a=>{var t,r,m;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"prose prose-sm max-w-md text-gray-900 line-clamp-2",dangerouslySetInnerHTML:{__html:a.question_text}})}),e.jsx("td",{className:"px-6 py-4",children:a.subcategory?e.jsxs("div",{children:[e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:`${(t=a.subcategory.category)==null?void 0:t.color}20`,color:(r=a.subcategory.category)==null?void 0:r.color},children:(m=a.subcategory.category)==null?void 0:m.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.subcategory.name})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-6 py-4",children:N(a.difficulty)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-mono font-bold text-gray-900",children:a.correct_answer})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(l,{href:route("admin.questions.edit",a.id),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg",children:e.jsx(w,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>f(a),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:e.jsx(S,{className:"w-5 h-5"})})]})})]},a.id)})})]})})}),s.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex gap-1",children:s.links.map((a,t)=>e.jsx(l,{href:a.url||"#",className:`px-3 py-2 rounded text-sm ${a.active?"bg-indigo-600 text-white":a.url?"bg-white text-gray-600 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,preserveState:!0,dangerouslySetInnerHTML:{__html:a.label}},t))})})]})}export{E as default};
